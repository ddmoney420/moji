---
type: code
status: in_progress
labels:
- documentation
- schema
target_files:
- docs/config-schema.json
- internal/config/schema.go
- internal/config/config.go
- internal/config/config_test.go
model: claude-haiku-4-5-20251001
---
# Add Configuration Schema Documentation with JSON Schema

## Problem Description

The configuration file format is underdocumented. Users don't know what options are available or valid values. A JSON Schema would enable editor autocompletion and validation.

## Solution Approach

1. Create JSON Schema for moji config format
2. Generate schema from Go types
3. Document all config sections and fields
4. Add schema reference to config loading

## Acceptance Criteria

- [x] Create `docs/config-schema.json` with full schema
- [x] Schema documents all config sections (Banner, Convert, Gradient, etc.)
- [x] Schema includes field descriptions
- [x] Schema includes default values
- [x] Schema includes enum values for choice fields
- [x] Schema includes examples for complex fields
- [x] Create `internal/config/schema.go` with schema generation
- [x] `GenerateSchema() string` function
- [x] Schema validates against sample configs
- [x] Add schema URL to config file header comment
- [x] Unit tests for schema generation
- [x] go vet passes with no errors

## Technical Notes

- JSON Schema draft-07 format
- Include `$schema` reference
- Use Go struct tags for field metadata
- Consider `github.com/invopop/jsonschema` for generation